---
title: "طريقة استخدام الوكلاء"
summary: "دليل رسمي لاستدعاء الوكلاء وتفعيلهم على أي مشروع داخل Trae"
---

# استخدام الوكلاء داخل Trae

## التحضير
- تأكد من وجود مجلد `.trae/skills` في المشروع (يتم ربطه تلقائيًا عبر `~/.bashrc` إن فُعّل).
- افحص الصحة: `bash .trae/health-check.sh`
- خيارات المخرجات:
  - `AGENT_LOG_JSON=1` لتنسيق JSON
  - `AGENT_LOG_FILE=1` لكتابة السجلات إلى `.trae/logs/agent.log`

## الاستدعاء داخل Trae
- استدعِ الوكيل مباشرةً باسمه الرسمي:
  - `architect-orchestrator` — يبدأ التحليل ويقود التنسيق
  - `planner-agent` — يفكك الهدف إلى مهام مرتبة
  - `builder-code` — ينفّذ التعليمات بدون قرارات معمارية
  - `qa-runtime-validator` — يتحقق من التشغيل والبناء
  - `regression-guard` — يمنع التراجعات ويقارن السلوك
  - `stability-guard` — يحرس الاستقرار ويقرّر الدمج
  - `ai-integration` — يتحقق من تكامل AI Core/Ollama عند الحاجة

## تسلسل قياسي (مُوصى به)
1. Architect → 2. Planner → 3. Builder → 4. QA → 5. Regression → 6. Stability → (AI Integration عند الحاجة)

## صيغ برومبت مقترحة
- تحليل مشروع: "حلّل المشروع وحدد المخاطر والاعتماديات"
- تخطيط تنفيذ: "فكّك هذا الهدف إلى مهام مرتبة مع الاعتماديات"
- تنفيذ تغييرات: "نفّذ تعديل الملفات التالية حسب خطة المعماري"
- تحقّق تشغيل: "افحص البناء وتشغيل الصفحة الرئيسية واستجابات API"
- منع التراجعات: "قارن السلوك قبل/بعد آخر تغيير وأبلغ عن فقد الوظائف"
- قرار الاستقرار: "قيّم أثر التغييرات واسمح/امنع الدمج مع الأسباب"

## السياسات الثابتة
- عدم تعديل AI Core إطلاقًا
- عدم إدخال تبعيات جديدة بلا مبرر موثّق
- التوقف فقط عند فشل البناء/النوعيات؛ تحذيرات lint لا تعيق التدفق

## أدوات مساعدة
- `.trae/health-check.sh` — يفحص الجاهزية ويطبع رسائل الوكلاء
- `.trae/agent-log.sh` — يطبّق تنسيق موحّد للمخرجات ويدعم JSON/ملف لوج

## الاعتماد العالمي (اختياري)
- نسخة مهارات المستخدم: `~/.trae/skills`
- ربط تلقائي عبر `~/.bashrc` (الدالة `_trae_autolink2`) لضمان وجود `.trae/skills` في أي مشروع

